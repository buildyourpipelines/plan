


<html>
    
    <head>
       
	    <style>
	    
		   .row.nav{
		    display:none}
		     .video_holder{
		    text-align: center;
	    </style>
       
    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase.js"></script>

          <link rel="stylesheet" href="styles/beauter.css">
                <link rel="stylesheet" href="styles/base.css">
        <script type="text/javascript" src="scripts/beauter.js"></script>
        <script type="text/javascript" src="scripts/app.js"></script>
        
        <script>
  // Initialize Firebase
  
  
  var database = firebase.database;
  var currentSlideNode = firebase.database().ref('slideNode');
  
  currentSlideNode.on('value', function(slideNode) {
      node = slideNode.val();
      document.getElementById("video_holder").innerHTML = '';
      
      
      	
	if(node.type=='image'){
	        
	document.getElementById("slider").style.display="inline-block";
	document.getElementById("video_holder").style.display="none";
           setTimeout(function(){	
            var img = document.getElementById("slider");
            img.src = "https://buildyourpipelines.github.io/plan/images/all/" + node.source;},500)
		
	if(node.audio=='mute'){
	document.getElementById("audio_holder").innerHTML = '';	
	}	
		
		
	if(node.audio=='new'){
	
	document.getElementById("audio_holder").innerHTML = '';
		var audio = document.createElement('audio');
		setTimeout(function(){
  
audio.src = "https://buildyourpipelines.github.io/plan/audios/all/" + node.audioSource;
audio.controls = false;
audio.autoplay=true;
audio.loop = true;
				
  document.getElementById("audio_holder").appendChild(audio);	
			
			document.addEventListener('keypress', function(key){
			if(key.keyCode==32){
			if (audio.duration > 0 && !audio.paused) {
				audio.pause();}
				else {audio.play();
				     }
			}
			});

    
},500)
		
		
	
	}	
		
		
		
		
	}
	
		if(node.type=='video'){
	document.getElementById("audio_holder").innerHTML = '';       
	document.getElementById("slider").style.display="none";
	document.getElementById("video_holder").style.display="inline-block";
          
            
            var video = document.createElement('video');
setTimeout(function(){
   
video.src = "https://buildyourpipelines.github.io/plan/videos/all/" + node.source; 
video.autoplay=true;
video.controls = true;
 document.getElementById("video_holder").appendChild(video);      
},500)
        
            
            
            
            
           
	}
      	if(node.type=='youtube'){
	    
	    var myNode = document.getElementById("video_holder");
while (myNode.firstChild) {
    myNode.removeChild(myNode.firstChild);
}
	    
	    

	document.getElementById("audio_holder").innerHTML = '';       
	document.getElementById("slider").style.display="none";
	document.getElementById("video_holder").style.display="inline-block";
	  setTimeout(function(){  
	      document.getElementById("video_holder").innerHTML = ''; 
	      var youtube = document.createElement('iframe');
	      youtube.src="https://www.youtube.com/embed/"+node.source;
	      youtube.width="956" ;
	      youtube.height="538" 
	      youtube.frameborder="0" 
	      youtube.autoplay = true;
	      youtube.allowfullscreen =true;
	       document.getElementById("video_holder").appendChild(youtube);      
},500)
        
	      
	      
	}
      
      
      
  })
  
  
  
  

  
  
 
  
  
  
</script>
<script>
            
            
            document.addEventListener('dblclick', function() {
    document.documentElement.requestFullscreen();
    noSleep.enable();
}, false);
            
            
        </script>

       

    </head>
<body>
    
 


    <div class="img-container" id="img-container">
    <img id="slider" class="center -thumb" height="100%"  align="middle" src="/plan/images/all/start.png"/>
    <div id="video_holder"></div>
	<div id="audio_holder"></div>    
	</div>

  

</body>

</html>
